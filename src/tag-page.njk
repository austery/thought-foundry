---
pagination:
  data: collections.tagList
  size: 1
  alias: tagInfo
layout: "base.njk"
# 在这里，我们必须对 tagInfo.key 使用 slug 过滤器
permalink: "/tags/{{ tagInfo.key | slug }}/"
---

<div class="container">

<div class="home-layout">

<h1>标签：{{ tagInfo.name }}</h1>

<ul>
  {%- for item in tagInfo.posts | sort(true, false, 'date') -%}
    <li>
      {# 第一行: 标题 + 徽章 + Speaker + 日期 #}
      <a href="{{ item.url | url }}">{{ item.data.title }}</a>
      {# 徽章部分 #}
      {% if item.filePathStem.includes('/posts/') %}
        <span class="badge">✍️</span>
      {% elif item.filePathStem.includes('/notes/') %}
        <span class="badge">📝</span>
      {% endif %}
      {# Speaker 部分 #}
      {% if item.data.speaker %}
        <a href="{{ ('/speakers/' + (item.data.speaker | getSpeakerUniqueKey(collections) | slug) + '/') | url }}" class="speaker-inline">🎙️ {{ item.data.speaker }}</a>
      {% endif %}
      {# 日期部分 #}
      {% if item.date %}
        <time datetime="{{ item.date }}">
          {% if item.data.date %}
            {{ item.data.date }}
          {% else %}
            {{ item.date.toLocaleDateString() }}
          {% endif %}
        </time>
      {% endif %}
      <br>

      {# 标签部分 - 显示文章的关键词标签 #}
      {% if item.data.tags and item.data.tags.length > 0 %}
        {%- for tag in item.data.tags -%}
          {%- if tag != "post" and tag != "note" and tag != "视频文稿" -%}
            <a href="{{ ('/tags/' + (tag | slug) + '/') | url }}" class="tag-link">#{{ tag }}</a>
            {%- if not loop.last %} {% endif -%}
          {%- endif -%}
        {%- endfor -%}
      {% endif %}

      {# 摘要部分 - 显示内容摘要 #}
      {% if item.data.summary %}
        <br>
        <small class="summary-text">📄 {{ item.data.summary }}</small>
      {% endif %}

      {# 洞察部分 - 显示为什么观看这个视频或听这个播客 #}
      {% if item.data.insight %}
        <br>
        <small class="insight-text">💡 {{ item.data.insight }}</small>
      {% endif %}
    </li>
  {%- endfor -%}
</ul>

</div>

</div>